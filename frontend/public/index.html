<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manufacturing Account Manager Agent | AI Dashboard</title>
    <meta name="description" content="AI-powered manufacturing account management dashboard for predictive analytics and customer insights">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="18" width="8" height="12" rx="1" fill="currentColor" opacity="0.9"/>
                        <rect x="12" y="12" width="8" height="18" rx="1" fill="currentColor"/>
                        <rect x="22" y="6" width="8" height="24" rx="1" fill="currentColor" opacity="0.7"/>
                        <circle cx="6" cy="8" r="3" fill="currentColor" opacity="0.5"/>
                        <path d="M6 8L16 5L26 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" opacity="0.6"/>
                    </svg>
                </div>
                <div class="logo-text">
                    <span class="logo-title">ManuFactorAI</span>
                    <span class="logo-subtitle">Account Manager Agent</span>
                </div>
            </div>
        </div>
        
        <nav class="header-nav">
            <button class="nav-pill active" data-usecase="expansion">
                <span class="pill-icon">üìà</span>
                Expansion
            </button>
            <button class="nav-pill" data-usecase="churn">
                <span class="pill-icon">‚ö†Ô∏è</span>
                Churn Risk
            </button>
            <button class="nav-pill" data-usecase="quality">
                <span class="pill-icon">üîç</span>
                Quality Incidents
            </button>
            <button class="nav-pill" data-usecase="qbr">
                <span class="pill-icon">üìä</span>
                QBR
            </button>
            <button class="nav-pill" data-usecase="supply">
                <span class="pill-icon">üì¶</span>
                Supply Chain
            </button>
        </nav>
        
        <div class="header-right">
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"/>
                    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                </svg>
                <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <div class="profile">
                <div class="avatar">AM</div>
                <span class="profile-name">Alex Morgan</span>
            </div>
        </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard">
        <!-- Left Panel: Alerts -->
        <aside class="panel panel-left">
            <div class="panel-header">
                <h2>Account Alerts</h2>
                <span class="alert-count" id="alertCount">6</span>
            </div>
            <div class="alert-list" id="alertList">
                <!-- Alerts populated by JS -->
            </div>
        </aside>

        <!-- Center Panel: AI Analysis -->
        <section class="panel panel-center">
            <div class="ai-header">
                <div class="ai-avatar">
                    <div class="ai-avatar-ring"></div>
                    <div class="ai-avatar-inner">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 2a4 4 0 0 1 4 4v2a4 4 0 0 1-8 0V6a4 4 0 0 1 4-4z"/>
                            <path d="M6 10v1a6 6 0 0 0 12 0v-1"/>
                            <path d="M12 18v4M8 22h8"/>
                        </svg>
                    </div>
                </div>
                <div class="ai-info">
                    <h2 class="ai-title">Manufacturing Intelligence Agent</h2>
                    <p class="ai-status"><span class="status-dot"></span>Analyzing account data...</p>
                </div>
            </div>

            <div class="analysis-content" id="analysisContent">
                <!-- Executive Summary -->
                <div class="analysis-section" id="summarySection">
                    <h3 class="section-title">
                        <span class="section-icon">üìä</span>
                        Executive Summary
                    </h3>
                    <div class="typing-container" id="summaryText"></div>
                </div>

                <!-- Data Table -->
                <div class="analysis-section" id="tableSection" style="display:none;">
                    <h3 class="section-title">
                        <span class="section-icon">üìã</span>
                        Account Metrics Overview
                    </h3>
                    <div class="data-table-container">
                        <table class="data-table" id="metricsTable">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Current</th>
                                    <th>Previous</th>
                                    <th>Change</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody">
                                <!-- Populated by JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Line Chart -->
                <div class="analysis-section" id="chartSection" style="display:none;">
                    <h3 class="section-title">
                        <span class="section-icon">üìà</span>
                        Performance Trend
                    </h3>
                    <div class="chart-container">
                        <canvas id="lineChart"></canvas>
                        <div class="chart-legend" id="chartLegend"></div>
                    </div>
                </div>

                <!-- Patterns -->
                <div class="analysis-section" id="patternsSection" style="display:none;">
                    <h3 class="section-title">
                        <span class="section-icon">üîç</span>
                        Key Patterns Detected
                    </h3>
                    <div class="patterns-grid" id="patternsGrid">
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Detailed Analysis -->
                <div class="analysis-section" id="detailsSection" style="display:none;">
                    <h3 class="section-title">
                        <span class="section-icon">üìù</span>
                        Detailed Analysis
                    </h3>
                    <div class="details-text" id="detailsText"></div>
                </div>

                <!-- Scenarios -->
                <div class="analysis-section" id="scenariosSection" style="display:none;">
                    <h3 class="section-title">
                        <span class="section-icon">üéØ</span>
                        Recommended Scenarios
                    </h3>
                    <div class="scenarios-list" id="scenariosList">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>

            <div class="analysis-actions">
                <button class="btn btn-primary" id="approveActionsBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>
                    Approve Actions
                </button>
                <button class="btn btn-secondary" id="simulateBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                    Simulate
                </button>
                <button class="btn btn-ghost" id="evidenceBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                    View Evidence
                </button>
            </div>
        </section>

        <!-- Right Panel: Actions & Documents -->
        <aside class="panel panel-right">
            <div class="panel-header">
                <h2>AI Actions</h2>
                <div class="panel-controls">
                    <button class="btn btn-sm btn-primary" id="approveAllBtn">Approve All</button>
                    <button class="btn btn-sm btn-ghost" id="exportBtn">Export</button>
                </div>
            </div>
            
            <div class="actions-list" id="actionsList">
                <!-- Populated by JS -->
            </div>

            <!-- Document Viewer Section -->
            <div class="document-section">
                <div class="panel-header">
                    <h2>Documents</h2>
                </div>
                <div class="document-viewer" id="documentViewer">
                    <div class="document-tabs">
                        <button class="doc-tab active" data-doc="ppt">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                            Presentation
                        </button>
                        <button class="doc-tab" data-doc="pdf">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                            PDF Report
                        </button>
                    </div>
                    <div class="document-preview" id="documentPreview">
                        <!-- Document content -->
                    </div>
                    <div class="document-actions">
                        <button class="btn btn-secondary" id="editDocBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                            Edit
                        </button>
                        <button class="btn btn-primary" id="downloadDocBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                            Download
                        </button>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- Edit Modal -->
    <div class="modal" id="editModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Action</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <form class="edit-form" id="editForm">
                <div class="form-group">
                    <label for="editTitle">Title</label>
                    <input type="text" id="editTitle" name="title" required>
                </div>
                <div class="form-group">
                    <label for="editDescription">Description</label>
                    <textarea id="editDescription" name="description" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="editDue">Due Date</label>
                        <input type="date" id="editDue" name="due">
                    </div>
                    <div class="form-group">
                        <label for="editOwner">Owner</label>
                        <input type="text" id="editOwner" name="owner">
                    </div>
                </div>
                <div class="form-group">
                    <label for="editImpact">Impact Level</label>
                    <select id="editImpact" name="impact">
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn btn-ghost" id="cancelEdit">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Agent Creation Modal -->
    <div class="modal" id="agentModal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="agentModalTitle">Create New Agent Alert</h3>
                <button class="modal-close" id="agentModalClose">&times;</button>
            </div>
            <div class="wizard-steps">
                <div class="wizard-step active" data-step="1">
                    <span class="step-number">1</span>
                    <span class="step-label">Basics</span>
                </div>
                <div class="wizard-step" data-step="2">
                    <span class="step-number">2</span>
                    <span class="step-label">Scenarios</span>
                </div>
                <div class="wizard-step" data-step="3">
                    <span class="step-number">3</span>
                    <span class="step-label">Data</span>
                </div>
                <div class="wizard-step" data-step="4">
                    <span class="step-number">4</span>
                    <span class="step-label">Preview</span>
                </div>
            </div>
            <div class="wizard-content" id="wizardContent">
                <!-- Populated by JS -->
            </div>
            <div class="wizard-actions">
                <button class="btn btn-ghost" id="wizardBack" disabled>Back</button>
                <button class="btn btn-primary" id="wizardNext">Next</button>
            </div>
        </div>
    </div>

    <!-- Document Edit Modal -->
    <div class="modal" id="docEditModal">
        <div class="modal-overlay"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Edit Document</h3>
                <button class="modal-close" id="docEditClose">&times;</button>
            </div>
            <div class="doc-editor">
                <div class="doc-toolbar">
                    <button class="toolbar-btn" title="Bold"><strong>B</strong></button>
                    <button class="toolbar-btn" title="Italic"><em>I</em></button>
                    <button class="toolbar-btn" title="Underline"><u>U</u></button>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn" title="Align Left">‚¨Ö</button>
                    <button class="toolbar-btn" title="Center">‚¨õ</button>
                    <button class="toolbar-btn" title="Align Right">‚û°</button>
                </div>
                <div class="doc-content" contenteditable="true" id="docEditContent"></div>
            </div>
            <div class="form-actions">
                <button class="btn btn-ghost" id="cancelDocEdit">Cancel</button>
                <button class="btn btn-primary" id="saveDocEdit">Save Document</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Floating Create Button -->
    <button class="fab" id="createAgentBtn" title="Create New Alert">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
    </button>

    <script src="app.js"></script>
</body>
</html>
